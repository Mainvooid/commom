<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>common: commom</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">common
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md__r_e_a_d_m_e.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">commom </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>common library only include header files.</p>
<p>It has only been tested on Windows.</p>
<hr/>
<h2>Tree</h2>
<div class="fragment"><div class="line">│  code.snippet     <span class="comment">//文件代码模板(vs-&gt;工具-&gt;代码片段管理中导入)</span></div><div class="line">│  <a class="code" href="namespacecommon.html">common</a>.hpp       <span class="comment">//主头文件(使用时include本文件)</span></div><div class="line">│  common_all.hpp   <span class="comment">//统一的主头文件(暂未生成)</span></div><div class="line">├─common            <span class="comment">//分头文件目录</span></div><div class="line">│  │  cmdline.hpp      <span class="comment">//命令行解析</span></div><div class="line">│  │  codecvt.hpp      <span class="comment">//字符编码转换</span></div><div class="line">│  │  cuda.hpp         <span class="comment">//cuda辅助(包含与opencv和directx的互操作)</span></div><div class="line">│  │  debuglog.hpp     <span class="comment">//windows调试日志</span></div><div class="line">│  │  opencl.hpp       <span class="comment">//opencl辅助</span></div><div class="line">│  │  opencv.hpp       <span class="comment">//opencv辅助</span></div><div class="line">│  │  precomm.hpp      <span class="comment">//公共辅助</span></div><div class="line">│  │  windows.hpp      <span class="comment">//windows辅助(包含directx辅助)</span></div><div class="line">│  └─cuda           <span class="comment">//cuda设备函数目录</span></div><div class="line">│     │  texture_reference.cu    </div><div class="line">│     └─ texture_reference.cuh</div><div class="line">├─docs             <span class="comment">//文档目录</span></div><div class="line">├─samples          <span class="comment">//使用样例目录</span></div><div class="line">│  └─data             <span class="comment">//测试数据 </span></div><div class="line">└─tests            <span class="comment">//单元测试目录</span></div></div><!-- fragment --><hr/>
<h2>Macro</h2>
<p>默认关闭库/宏支持</p><ul>
<li><code>HAVE_OPENCL</code> //基于OpenCL 1.2</li>
<li><code>HAVE_OPENCV</code> //基于OpenCV 4.0 with contrib</li>
<li><code>HAVE_DIRECTX</code> //基于Microsoft DirectX SDK (June 2010)</li>
<li><code>HAVE_CUDA</code> //基于CUDA 10.0</li>
<li><code>HAVE_CUDA_DEVICE</code> // 本项目cuda目录下的.cu文件添加到工程后可以开启本宏,宏详细说明见common/cuda/README.md</li>
</ul>
<hr/>
<h2>Code style and code specification</h2>
<p><b>同一文件内应统一风格.</b></p>
<h3>命名</h3>
<p>缩进应使用4空格而非制表符,语句后不应尾随空格.</p>
<p>简化匈牙利命名法: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">前缀  </th><th class="markdownTableHeadNone">类型   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">g_  </td><td class="markdownTableBodyNone">全局变量   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">m_  </td><td class="markdownTableBodyNone">类成员变量   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">s_  </td><td class="markdownTableBodyNone">静态变量   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">c_  </td><td class="markdownTableBodyNone">常量   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">p_  </td><td class="markdownTableBodyNone">指针变量   </td></tr>
</table>
<p>所有前缀或后缀应该写在一起用一个下划线隔开: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">前后缀  </th><th class="markdownTableHeadNone">类型   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">mp_  </td><td class="markdownTableBodyNone">成员指针变量   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">mcp_  </td><td class="markdownTableBodyNone">成员常量指针   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">mpc_  </td><td class="markdownTableBodyNone">成员指针常量   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">_t  </td><td class="markdownTableBodyNone">结构体类型   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">_fn  </td><td class="markdownTableBodyNone">函数指针类型   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">_e  </td><td class="markdownTableBodyNone">枚举类型   </td></tr>
</table>
<p>函数内临时的同名变量可以加个前缀<code>_</code>代表临时. 变量/文件命名全小写+下划线</p>
<p>若驼峰式命名法 类名用大驼峰,变量第一个词是动词则小驼峰addOption().</p>
<h3>文件</h3>
<p>源文件内的头文件包含顺序应从最特殊到一般，如： </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;通用头文件&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;源文件同名头文件&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;本模块其他头文件&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;自定义工具头文件&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;第三方头文件&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;平台相关头文件&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;C++库头文件&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;C库头文件&quot;</span></div></div><!-- fragment --><p>模块应使用命名空间<code>namespace{}</code>包含.</p>
<h4>HPP文件要注意的问题</h4>
<p>所有HPP文件使用宏避免重复包含. </p><div class="fragment"><div class="line"><span class="preprocessor">#ifndef _COMMON_PRECOMM_HPP_</span></div><div class="line"><span class="preprocessor">#define _COMMON_PRECOMM_HPP_</span></div><div class="line"><span class="preprocessor">#endif</span></div></div><!-- fragment --><p>HPP文件中可以使用using引用依赖,不应该使用using namespace污染命名空间.</p>
<p>函数的重定义问题:</p><ul>
<li>将全局函数封装为类的静态方法</li>
<li>通过冗余的模板参数变成模板函数 <div class="fragment"><div class="line"><span class="keyword">template</span>&lt;<span class="keywordtype">bool</span> flag=false&gt;</div></div><!-- fragment --></li>
<li>static修饰</li>
</ul>
<h3>Doxygen文档</h3>
<h4>注释</h4>
<div class="fragment"><div class="line">/**</div><div class="line"> *  多行注释</div><div class="line"> */</div><div class="line"> </div><div class="line">/**单行注释*/ 或 ///</div><div class="line"></div><div class="line">/**&lt;同行注释 */ 或 ///&lt; (Doxygen认为注释是修饰接下来的程序代码的)</div></div><!-- fragment --><h4>文件信息</h4>
<div class="fragment"><div class="line">@file      文件名</div><div class="line">@author    作者名</div><div class="line">@version   版本号</div><div class="line">@todo      待办事项</div><div class="line">@date      日期时间</div><div class="line">@section   章节标题 e.g. [@section LICENSE 版权许可] [@section DESCRIPTION 描述]</div></div><!-- fragment --> <h4>模块信息</h4>
<div class="fragment"><div class="line">@defgroup   定义模块                         模块名(英文) 显示名    @{ 类/函数/变量/宏/... @}</div><div class="line">@ingroup    作为指定名的模块的子模块          模块名(英文) [显示名]</div><div class="line">@addtogroup 作为指定名的模块的成员            模块名(英文) [显示名]</div><div class="line">@name       按用途分,以便理解全局变量/宏的用途 显示名(中文)           @{ 变量/宏 @}</div></div><!-- fragment --><h4>函数信息</h4>
<div class="fragment"><div class="line">@brief     摘要</div><div class="line">@param     参数说明</div><div class="line">@param[in]      输入参数</div><div class="line">@param[out]     输出参数</div><div class="line">@param[in,out]  输入输出参数</div><div class="line">@return    返回值说明</div><div class="line">@retval    特定返回值说明 [eg:@retval NULL 空字符串][@retval !NULL 非空字符串]</div><div class="line">@exception 可能产生的异常描述</div><div class="line">@enum      引用了某个枚举,Doxygen会在引用处生成链接</div><div class="line">@var       引用了某个变量</div><div class="line">@class     引用某个类 [eg: @class CTest &quot;inc/class.h&quot;]</div><div class="line">@see       参考链接,函数重载的情况下,要带上参数列表以及返回值</div><div class="line">@todo      todo注解</div><div class="line">@pre       前置条件说明</div><div class="line">@par       [段落标题] 开创新段落,一般与示例代码联用 </div><div class="line">@code      示例代码开始 e.g. [code{.cpp}]</div><div class="line">@ endcode  示例代码结束</div></div><!-- fragment --><h4>提醒信息</h4>
<div class="fragment"><div class="line">@note      注解</div><div class="line">@attention 注意</div><div class="line">@warning   警告</div><div class="line">@bug       问题</div><div class="line">@def       宏定义说明</div></div><!-- fragment --><h4>生成</h4>
<p>文档目录下执行 doxygen Doxyfile</p>
<h3>函数</h3>
<p>应尽可能多的使用模板函数</p>
<p>构造函数只进行没有实际意义的初始化,通过Init(),Setup()等函数进行具体构造. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">制作者
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
